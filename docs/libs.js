(window.webpackJsonp=window.webpackJsonp||[]).push([[0],[,function(module,exports,__webpack_require__){var factory;window,factory=function(__WEBPACK_EXTERNAL_MODULE_phaser__){return function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:r})},n.r=function(e){Object.defineProperty(e,"__esModule",{value:!0})},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=0)}({"./src/NineSlice.js":
/*!**************************!*\
  !*** ./src/NineSlice.js ***!
  \**************************/
/*! no static exports found */function(module,exports,__webpack_require__){"use strict";eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.EVENTS = undefined;\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _get = function get(object, property, receiver) { if (object === null) object = Function.prototype; var desc = Object.getOwnPropertyDescriptor(object, property); if (desc === undefined) { var parent = Object.getPrototypeOf(object); if (parent === null) { return undefined; } else { return get(parent, property, receiver); } } else if (\"value\" in desc) { return desc.value; } else { var getter = desc.get; if (getter === undefined) { return undefined; } return getter.call(receiver); } };\n\nvar _phaser = __webpack_require__(/*! phaser */ \"phaser\");\n\nvar _phaser2 = _interopRequireDefault(_phaser);\n\nvar _murmur = __webpack_require__(/*! ./murmur */ \"./src/murmur.js\");\n\nvar _murmur2 = _interopRequireDefault(_murmur);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar defaultSliceConfig = function defaultSliceConfig(sc) {\n  var defaulted = sc;\n  if (typeof defaulted.sourceLayout.width === 'number') {\n    // this means sourceLayout is a cornerconfig and should be used for all\n    // four corners\n    var _defaulted$sourceLayo = defaulted.sourceLayout,\n        width = _defaulted$sourceLayo.width,\n        height = _defaulted$sourceLayo.height;\n    // we only need to assign one fallback will handle the rest\n\n    defaulted.sourceLayout = { topLeft: { width: width, height: height } };\n  }\n  var sl = defaulted.sourceLayout;\n\n  sl.topRight = sl.topRight || sl.topLeft;\n  sl.bottomRight = sl.bottomRight || sl.topLeft;\n  sl.bottomLeft = sl.bottomLeft || sl.topLeft;\n\n  var maxTopHeight = Math.max(sl.topLeft.height, sl.topRight.height);\n  var maxRightWidth = Math.max(sl.topRight.width, sl.bottomRight.width);\n  var maxBottomHeight = Math.max(sl.bottomLeft.height, sl.bottomRight.height);\n  var maxLeftWidth = Math.max(sl.topLeft.width, sl.bottomLeft.width);\n\n  if (!defaulted.safeOffsets) {\n    defaulted.safeOffsets = {\n      top: maxTopHeight,\n      right: maxRightWidth,\n      bottom: maxBottomHeight,\n      left: maxLeftWidth\n    };\n  }\n\n  if (typeof defaulted.minSizing === 'undefined' || defaulted.minSizing !== false) {\n    var offsets = defaulted.safeOffsets;\n    defaulted.minSizing = {\n      width: offsets ? Math.max(offsets.left + offsets.right, maxLeftWidth + maxRightWidth) : maxLeftWidth + maxRightWidth,\n      height: offsets ? Math.max(offsets.top + offsets.bottom, maxTopHeight + maxBottomHeight) : maxTopHeight + maxBottomHeight\n    };\n  } else {\n    defaulted.minSizing = false;\n  }\n\n  return defaulted;\n};\n\nvar shortSliceLayout = function shortSliceLayout(sc) {\n  return {\n    tl: { x: sc.topLeft.width, y: sc.topLeft.height },\n    tr: { x: sc.topRight.width, y: sc.topRight.height },\n    bl: { x: sc.bottomLeft.width, y: sc.bottomLeft.height },\n    br: { x: sc.bottomRight.width, y: sc.bottomRight.height }\n  };\n};\n\nvar BASE = '__BASE';\nvar MISSING = '__MISSING';\n\nvar EVENTS = exports.EVENTS = {\n  UPDATE_SAFE_BOUNDS: 'updatesafebounds'\n};\n\nvar NineSlice = function (_Phaser$GameObjects$R) {\n  _inherits(NineSlice, _Phaser$GameObjects$R);\n\n  /**\r\n   * @param {Phaser.Scene} scene the parent scene for this NineSlice\r\n   * @param {SliceConfig} _sliceConfig specifies details of where we source\r\n   *    texture data and how the slice is laied out based on that texture.\r\n   * @param {PositionConfig} positionConfig describes positioning of the slice\r\n   *    in the scene. If unspecified x and y position will be 0 and the width\r\n   *    and height will be computed from the source texture.\r\n   */\n  function NineSlice(scene, _sliceConfig) {\n    var positionConfig = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : null;\n\n    _classCallCheck(this, NineSlice);\n\n    var _this = _possibleConstructorReturn(this, (NineSlice.__proto__ || Object.getPrototypeOf(NineSlice)).call(this, scene, 0, 0, 32, 32));\n\n    _this.initFrames = _this.initFrames.bind(_this);\n    _this.getUsableBounds = _this.getUsableBounds.bind(_this);\n    _this.drawFrames = _this.drawFrames.bind(_this);\n    _this.resize = _this.resize.bind(_this);\n    _this.updateSafeBounds = _this.updateSafeBounds.bind(_this);\n    _this.enableDebugDraw = _this.enableDebugDraw.bind(_this);\n\n    _this.events = new _phaser2.default.Events.EventEmitter();\n    _this.sliceConfig = defaultSliceConfig(_sliceConfig);\n    _this._safeBounds = new _phaser2.default.Geom.Rectangle();\n\n    var _this$sliceConfig = _this.sliceConfig,\n        sourceKey = _this$sliceConfig.sourceKey,\n        sourceFrame = _this$sliceConfig.sourceFrame;\n\n    _this.sourceTex = scene.sys.textures.get(_this.sliceConfig.sourceKey);\n    if (!sourceKey) {\n      throw new Error('NineSlice requires a texture sourceKey to be specified.');\n    }\n    if (!_this.sourceTex || _this.sourceTex.key === MISSING) {\n      throw new Error('Expected source image ' + sourceKey + ' not found.');\n    }\n\n    // use this to reduce chance we'll overwrite an existing frame\n    _this._framePrefix = '' + (0, _murmur2.default)(JSON.stringify({ sourceKey: sourceKey, sourceFrame: sourceFrame }, 404));\n    // this constructs a namespaced frame name\n    _this.mkFrameName = function (n) {\n      return _this._framePrefix + '-' + n;\n    };\n    // store constructed frames so we have direct access to the frame for the\n    // specific corners\n    _this._frameCache = {};\n\n    var frameName = typeof sourceFrame === 'string' || typeof sourceFrame === 'number' ? sourceFrame : BASE;\n    _this.sourceFrame = _this.sourceTex.get(frameName);\n\n    // construct 9 frames for mortal men, doomed to die\n    _this.initFrames();\n\n    // We've gotten everything setup that is necessary for normal operation so\n    // we can unblock a bunch of the NineSlice specific stuff.\n    _this._initalized = true;\n\n    var x = positionConfig.x,\n        y = positionConfig.y,\n        width = positionConfig.width,\n        height = positionConfig.height;\n\n    _this.setPosition(x || 0, y || 0);\n    _this.resize(width || _this.sourceFrame.width, height || _this.sourceFrame.height);\n    _this.updateSafeBounds();\n    return _this;\n  }\n\n  _createClass(NineSlice, [{\n    key: 'updateSafeBounds',\n    value: function updateSafeBounds() {\n      if (!this._initalized) {\n        return;\n      }\n\n      var _sliceConfig$safeOffs = this.sliceConfig.safeOffsets,\n          top = _sliceConfig$safeOffs.top,\n          right = _sliceConfig$safeOffs.right,\n          bottom = _sliceConfig$safeOffs.bottom,\n          left = _sliceConfig$safeOffs.left;\n\n      var newX = this.x + left;\n      var newY = this.y + top;\n      var newW = this.width - (left + right);\n      var newH = this.height - (top + bottom);\n\n      var _safeBounds = this._safeBounds,\n          x = _safeBounds.x,\n          y = _safeBounds.y,\n          width = _safeBounds.width,\n          height = _safeBounds.height;\n\n      if (newX !== x || newY !== y || newW !== width || newH !== height) {\n        this._safeBounds.setTo(this.x + left, this.y + top, this.width - (left + right), this.height - (top + bottom));\n        this.events.emit(EVENTS.UPDATE_SAFE_BOUNDS, this, this._safeBounds);\n      }\n      if (this._g) {\n        this._g.lineStyle(1, 0x00ff00);\n        this._g.strokeRectShape(this._safeBounds);\n      }\n    }\n  }, {\n    key: 'resize',\n    value: function resize(_w, _h) {\n      var _ref = this.sliceConfig || {},\n          minSizing = _ref.minSizing;\n\n      var h = minSizing ? Math.max(minSizing.height, _h) : _h;\n      var w = minSizing ? Math.max(minSizing.width, _w) : _w;\n\n      if (h > _h || w > _w) {\n        var err = 'Attempted to set NineSlice size less than minimum (' + _w + 'x' + _h + ').';\n        // eslint-disable-next-line no-console\n        console.error(err);\n      }\n\n      _get(NineSlice.prototype.__proto__ || Object.getPrototypeOf(NineSlice.prototype), 'resize', this).call(this, w, h);\n      if (!this._initalized) {\n        return;\n      }\n\n      if (this._g) {\n        this._g.clear();\n      }\n      this.drawFrames();\n      this.updateSafeBounds();\n    }\n  }, {\n    key: 'initFrames',\n    value: function initFrames() {\n      var _this2 = this;\n\n      var tex = this.sourceTex;\n      var texW = this.sourceFrame.width;\n      var texH = this.sourceFrame.height;\n      var texX = this.sourceFrame.cutX;\n      var texY = this.sourceFrame.cutY;\n\n      var addFrame = function addFrame(_name, x, y, w, h) {\n        var name = _this2.mkFrameName(_name);\n        if (!tex.has(name)) {\n          _this2._frameCache[_name] = tex.add(name, 0, texX + x, texY + y, w, h);\n        } else {\n          _this2._frameCache[_name] = tex.frames[name];\n        }\n      };\n\n      var sl = shortSliceLayout(this.sliceConfig.sourceLayout);\n\n      addFrame('topLeft', 0, 0, sl.tl.x, sl.tl.y);\n      addFrame('topRight', texW - sl.tr.x, 0, sl.tr.x, sl.tr.y);\n      addFrame('bottomRight', texW - sl.br.x, texH - sl.br.y, sl.br.x, sl.br.y);\n      addFrame('bottomLeft', 0, texH - sl.bl.y, sl.bl.x, sl.bl.y);\n\n      addFrame('topMiddle', sl.tl.x, 0, texW - (sl.tl.x + sl.tr.x), Math.max(sl.tl.y, sl.tr.y));\n\n      addFrame('bottomMiddle', sl.bl.x, texH - Math.max(sl.bl.y, sl.br.y), texW - (sl.bl.x + sl.br.x), Math.max(sl.bl.y, sl.br.y));\n\n      addFrame('leftMiddle', 0, sl.tl.y, Math.max(sl.tl.x, sl.bl.x), texH - (sl.tl.y + sl.bl.y));\n\n      addFrame('rightMiddle', texW - Math.max(sl.tr.x, sl.br.x), sl.tr.y, Math.max(sl.tr.x, sl.br.x), texH - sl.tr.y - sl.br.y);\n\n      var cLeftX = Math.min(sl.tl.x, sl.bl.x);\n      var cTopY = Math.min(sl.tl.y, sl.tr.y);\n      addFrame('center', cLeftX, cTopY, texW - cLeftX - Math.min(sl.tr.x, sl.br.x), texH - cTopY - Math.min(sl.br.y, sl.bl.y));\n    }\n  }, {\n    key: 'getUsableBounds',\n    value: function getUsableBounds() {\n      if (!this._initalized) {\n        return null;\n      }\n\n      return this._safeBounds;\n    }\n  }, {\n    key: 'drawFrames',\n    value: function drawFrames() {\n      var _this3 = this;\n\n      if (!this._initalized) {\n        return;\n      }\n\n      if (this._g) {\n        this._g.lineStyle(1, 0xff0000);\n      }\n\n      var sl = shortSliceLayout(this.sliceConfig.sourceLayout);\n      var frame = this._frameCache;\n\n      var draw = function draw(curFrame, x, y, wantWidth, wantHeight) {\n        if (wantWidth > 0 && wantHeight > 0) {\n          if (_this3._g) {\n            _this3._g.strokeRect(_this3.x + x, _this3.y + y, wantWidth, wantHeight);\n          }\n\n          var frameImage = _this3.scene.make.image({\n            key: _this3.sourceTex.key,\n            frame: curFrame.name,\n            x: 0,\n            y: 0\n          });\n\n          var scaleX = wantWidth / curFrame.width;\n          var scaleY = wantHeight / curFrame.height;\n\n          frameImage.setOrigin(0).setScale(scaleX, scaleY);\n\n          _this3.draw(frameImage, x, y);\n          frameImage.destroy();\n        }\n      };\n\n      var minLeftX = Math.min(sl.tl.x, sl.bl.x);\n      var minRightX = Math.min(sl.tr.x, sl.br.x);\n\n      var minTopY = Math.min(sl.tl.y, sl.tr.y);\n      var minBottomY = Math.min(sl.bl.y, sl.br.y);\n\n      this.clear();\n\n      // first draw everything that needs to be scaled; this is more complicated\n      // than necessary because some fool (me) thought it was a good idea to\n      // support unique offsets per corner. 🤦\n      draw(frame.center, minLeftX, minTopY, this.width - minLeftX - minRightX, this.height - minTopY - minBottomY);\n      draw(frame.topMiddle, sl.tl.x, 0, this.width - sl.tl.x - sl.tr.x, frame.topMiddle.height);\n      draw(frame.bottomMiddle, sl.bl.x, this.height - frame.bottomMiddle.height, this.width - sl.bl.x - sl.br.x, frame.bottomMiddle.height);\n      draw(frame.leftMiddle, 0, sl.tl.y, frame.leftMiddle.width, this.height - sl.tl.y - sl.bl.y);\n      draw(frame.rightMiddle, this.width - sl.tr.x, sl.tr.y, frame.rightMiddle.width, this.height - sl.tr.y - sl.br.y);\n\n      // everything else since it's important that they draw atop other edges\n      draw(frame.topLeft, 0, 0, sl.tl.x, sl.tl.y);\n      draw(frame.topRight, this.width - sl.tr.x, 0, sl.tr.x, sl.tr.y);\n      draw(frame.bottomRight, this.width - sl.br.x, this.height - sl.br.y, sl.br.x, sl.br.y);\n      draw(frame.bottomLeft, 0, this.height - sl.bl.y, sl.bl.x, sl.bl.y);\n    }\n  }, {\n    key: 'enableDebugDraw',\n    value: function enableDebugDraw() {\n      var enabled = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : true;\n\n      if (this._g) {\n        this._g.clear();\n      }\n\n      if (enabled) {\n        this._g = this.scene.add.graphics(this.x, this.y);\n      } else {\n        this._g = null;\n      }\n      this.drawFrames();\n      this.updateSafeBounds();\n    }\n  }, {\n    key: 'y',\n    get: function get() {\n      return this._y;\n    },\n    set: function set(y) {\n      if (this._y !== y) {\n        if (this._g) {\n          this._g.clear();\n          this.drawFrames();\n        }\n        this._y = y;\n        this.updateSafeBounds();\n      }\n    }\n  }, {\n    key: 'x',\n    get: function get() {\n      return this._x;\n    },\n    set: function set(x) {\n      if (this._x !== x) {\n        if (this._g) {\n          this._g.clear();\n          this.drawFrames();\n        }\n        this._x = x;\n        this.updateSafeBounds();\n      }\n    }\n  }]);\n\n  return NineSlice;\n}(_phaser2.default.GameObjects.RenderTexture);\n\nexports.default = NineSlice;\n\n//# sourceURL=webpack://NineSlice/./src/NineSlice.js?")},"./src/Plugin.js":
/*!***********************!*\
  !*** ./src/Plugin.js ***!
  \***********************/
/*! no static exports found */function(module,exports,__webpack_require__){"use strict";eval('\n\nObject.defineProperty(exports, "__esModule", {\n  value: true\n});\n\nvar _typeof = typeof Symbol === "function" && typeof Symbol.iterator === "symbol" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === "function" && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj; };\n\nvar _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i["return"]) _i["return"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError("Invalid attempt to destructure non-iterable instance"); } }; }();\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _phaser = __webpack_require__(/*! phaser */ "phaser");\n\nvar _phaser2 = _interopRequireDefault(_phaser);\n\nvar _NineSlice = __webpack_require__(/*! ./NineSlice */ "./src/NineSlice.js");\n\nvar _NineSlice2 = _interopRequireDefault(_NineSlice);\n\nvar _processOffsetsArray5 = __webpack_require__(/*! ./processOffsetsArray */ "./src/processOffsetsArray.js");\n\nvar _processOffsetsArray6 = _interopRequireDefault(_processOffsetsArray5);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn\'t been initialised - super() hasn\'t been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar Plugin = function (_Phaser$Plugins$BaseP) {\n  _inherits(Plugin, _Phaser$Plugins$BaseP);\n\n  function Plugin(mgr) {\n    _classCallCheck(this, Plugin);\n\n    var _this = _possibleConstructorReturn(this, (Plugin.__proto__ || Object.getPrototypeOf(Plugin)).call(this, mgr));\n\n    mgr.registerGameObject(\'nineslice\', _this.addNineSlice, _this.makeNineSlice);\n    return _this;\n  }\n\n  _createClass(Plugin, [{\n    key: \'addNineSlice\',\n    value: function addNineSlice() {\n      for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n        args[_key] = arguments[_key];\n      }\n\n      var slice = mkNineSlice(this.scene, args);\n      this.displayList.add(slice);\n      return slice;\n    }\n  }, {\n    key: \'makeNineSlice\',\n    value: function makeNineSlice() {\n      for (var _len2 = arguments.length, args = Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n        args[_key2] = arguments[_key2];\n      }\n\n      return mkNineSlice(this.scene, args);\n    }\n  }]);\n\n  return Plugin;\n}(_phaser2.default.Plugins.BasePlugin);\n\nexports.default = Plugin;\n\n\nvar mkNineSlice = function mkNineSlice(scene, args) {\n  if (args.length === 2) {\n    return new _NineSlice2.default(scene, args[0], args[1]);\n  }\n\n  if (args.length < 6) {\n    throw new Error(\'Expected at least 6 arguments to NineSlice creator, received \' + args.length + \'.\');\n  }\n  if (args.length > 7) {\n    // eslint-disable-next-line no-console\n    console.error(\'Expected less than 7 arguments for NineSlice creation, received \' + args.length + \'.\');\n  }\n\n  var _args = _slicedToArray(args, 6),\n      x = _args[0],\n      y = _args[1],\n      width = _args[2],\n      height = _args[3],\n      keyCfg = _args[4],\n      offsetCfg = _args[5];\n\n  var sliceConfig = {};\n  var placement = { x: x, y: y, width: width, height: height\n\n    // extract the key and (optional) frame for the texture source\n  };if (typeof keyCfg === \'string\') {\n    sliceConfig.sourceKey = keyCfg;\n  } else {\n    var key = keyCfg.key,\n        frame = keyCfg.frame;\n\n    sliceConfig.sourceKey = key;\n    if (typeof frame === \'string\' || typeof frame === \'number\') {\n      sliceConfig.sourceFrame = keyCfg.frame;\n    }\n  }\n\n  // extract the layout config\n  if (typeof offsetCfg === \'number\') {\n    // it\'s a uniform offset for all corners\n    sliceConfig.sourceLayout = { width: offsetCfg, height: offsetCfg };\n  } else if (Array.isArray(offsetCfg)) {\n    var _processOffsetsArray = (0, _processOffsetsArray6.default)(offsetCfg),\n        _processOffsetsArray2 = _slicedToArray(_processOffsetsArray, 4),\n        top = _processOffsetsArray2[0],\n        right = _processOffsetsArray2[1],\n        bottom = _processOffsetsArray2[2],\n        left = _processOffsetsArray2[3];\n\n    sliceConfig.sourceLayout = {\n      topLeft: { width: left, height: top },\n      topRight: { width: right, height: top },\n      bottomRight: { width: right, height: bottom },\n      bottomLeft: { width: left, height: bottom }\n    };\n  } else {\n    // assume that we\'re dealing with { width, height }\n    sliceConfig.sourceLayout = offsetCfg;\n  }\n\n  if (args.length > 6) {\n    if (typeof args[6] === \'number\') {\n      var n = args[6];\n      sliceConfig.safeOffsets = { top: n, right: n, bottom: n, left: n };\n    } else if (Array.isArray(args[6])) {\n      var _processOffsetsArray3 = (0, _processOffsetsArray6.default)(args[6]),\n          _processOffsetsArray4 = _slicedToArray(_processOffsetsArray3, 4),\n          _top = _processOffsetsArray4[0],\n          _right = _processOffsetsArray4[1],\n          _bottom = _processOffsetsArray4[2],\n          _left = _processOffsetsArray4[3];\n\n      sliceConfig.safeOffsets = { top: _top, right: _right, bottom: _bottom, left: _left };\n    } else {\n      throw new Error(\'Expected argument number or array for argument 7, got \' + _typeof(args[6]) + \'.\');\n    }\n  }\n\n  return new _NineSlice2.default(scene, sliceConfig, placement);\n};\n\nvar DefaultCfg = {\n  key: \'NineSlice\',\n  plugin: Plugin,\n  start: true\n};\n\nPlugin.DefaultCfg = DefaultCfg;\n\n//# sourceURL=webpack://NineSlice/./src/Plugin.js?')},"./src/index.js":
/*!**********************!*\
  !*** ./src/index.js ***!
  \**********************/
/*! no static exports found */function(module,exports,__webpack_require__){"use strict";eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _NineSlice = __webpack_require__(/*! ./NineSlice */ \"./src/NineSlice.js\");\n\nObject.defineProperty(exports, 'NineSlice', {\n  enumerable: true,\n  get: function get() {\n    return _interopRequireDefault(_NineSlice).default;\n  }\n});\nObject.defineProperty(exports, 'EVENTS', {\n  enumerable: true,\n  get: function get() {\n    return _NineSlice.EVENTS;\n  }\n});\n\nvar _Plugin = __webpack_require__(/*! ./Plugin */ \"./src/Plugin.js\");\n\nObject.defineProperty(exports, 'Plugin', {\n  enumerable: true,\n  get: function get() {\n    return _interopRequireDefault(_Plugin).default;\n  }\n});\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n//# sourceURL=webpack://NineSlice/./src/index.js?")},"./src/murmur.js":
/*!***********************!*\
  !*** ./src/murmur.js ***!
  \***********************/
/*! no static exports found */function(module,exports,__webpack_require__){"use strict";eval('\n\nObject.defineProperty(exports, "__esModule", {\n  value: true\n});\n/**\r\n * JS Implementation of MurmurHash3 (r136) (as of May 20, 2011)\r\n *\r\n * @author <a href="mailto:gary.court@gmail.com">Gary Court</a>\r\n * @see http://github.com/garycourt/murmurhash-js\r\n * @author <a href="mailto:aappleby@gmail.com">Austin Appleby</a>\r\n * @see http://sites.google.com/site/murmurhash/\r\n *\r\n * @param {string} key ASCII only\r\n * @param {number} seed Positive integer only\r\n * @return {number} 32-bit positive integer hash\r\n */\n\nvar murmurhash3_32_gc = function murmurhash3_32_gc(key, seed) {\n  var remainder, bytes, h1, h1b, c1, c2, k1, i;\n\n  remainder = key.length & 3; // key.length % 4\n  bytes = key.length - remainder;\n  h1 = seed;\n  c1 = 0xcc9e2d51;\n  c2 = 0x1b873593;\n  i = 0;\n\n  while (i < bytes) {\n    k1 = key.charCodeAt(i) & 0xff | (key.charCodeAt(++i) & 0xff) << 8 | (key.charCodeAt(++i) & 0xff) << 16 | (key.charCodeAt(++i) & 0xff) << 24;\n    ++i;\n\n    k1 = (k1 & 0xffff) * c1 + (((k1 >>> 16) * c1 & 0xffff) << 16) & 0xffffffff;\n    k1 = k1 << 15 | k1 >>> 17;\n    k1 = (k1 & 0xffff) * c2 + (((k1 >>> 16) * c2 & 0xffff) << 16) & 0xffffffff;\n\n    h1 ^= k1;\n    h1 = h1 << 13 | h1 >>> 19;\n    h1b = (h1 & 0xffff) * 5 + (((h1 >>> 16) * 5 & 0xffff) << 16) & 0xffffffff;\n    h1 = (h1b & 0xffff) + 0x6b64 + (((h1b >>> 16) + 0xe654 & 0xffff) << 16);\n  }\n\n  k1 = 0;\n\n  /* eslint-disable no-fallthrough */\n  switch (remainder) {\n    case 3:\n      k1 ^= (key.charCodeAt(i + 2) & 0xff) << 16;\n    case 2:\n      k1 ^= (key.charCodeAt(i + 1) & 0xff) << 8;\n    case 1:\n      k1 ^= key.charCodeAt(i) & 0xff;\n      k1 = (k1 & 0xffff) * c1 + (((k1 >>> 16) * c1 & 0xffff) << 16) & 0xffffffff;\n      k1 = k1 << 15 | k1 >>> 17;\n      k1 = (k1 & 0xffff) * c2 + (((k1 >>> 16) * c2 & 0xffff) << 16) & 0xffffffff;\n      h1 ^= k1;\n  }\n  /* eslint-enable no-fallthrough */\n\n  h1 ^= key.length;\n\n  h1 ^= h1 >>> 16;\n  h1 = (h1 & 0xffff) * 0x85ebca6b + (((h1 >>> 16) * 0x85ebca6b & 0xffff) << 16) & 0xffffffff;\n  h1 ^= h1 >>> 13;\n  h1 = (h1 & 0xffff) * 0xc2b2ae35 + (((h1 >>> 16) * 0xc2b2ae35 & 0xffff) << 16) & 0xffffffff;\n  h1 ^= h1 >>> 16;\n\n  return h1 >>> 0;\n};\n\nexports.default = murmurhash3_32_gc;\n\n//# sourceURL=webpack://NineSlice/./src/murmur.js?')},"./src/processOffsetsArray.js":
/*!************************************!*\
  !*** ./src/processOffsetsArray.js ***!
  \************************************/
/*! no static exports found */function(module,exports,__webpack_require__){"use strict";eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nvar processsOffsetArray = function processsOffsetArray(arr) {\n  switch (arr.length) {\n    case 1:\n      // topRightBottomLeft\n      return [arr[0], arr[0], arr[0], arr[0]];\n    case 2:\n      // topBottom rightLeft\n      return [arr[0], arr[1], arr[0], arr[1]];\n    case 3:\n      // top rightLeft bottom\n      return [arr[0], arr[1], arr[2], arr[1]];\n    case 4:\n      // top right bottom left\n      return arr;\n  }\n  throw new Error('Received ${arr.length} offset values, expected 1 to 4.');\n};\n\nexports.default = processsOffsetArray;\n\n//# sourceURL=webpack://NineSlice/./src/processOffsetsArray.js?")},0:
/*!****************************!*\
  !*** multi ./src/index.js ***!
  \****************************/
/*! no static exports found */function(module,exports,__webpack_require__){eval('module.exports = __webpack_require__(/*! ./src/index.js */"./src/index.js");\n\n\n//# sourceURL=webpack://NineSlice/multi_./src/index.js?')},phaser:
/*!*********************************************************************************************************!*\
  !*** external {"umd":"phaser","commonjs2":"phaser","commonjs":"phaser","amd":"phaser","root":"Phaser"} ***!
  \*********************************************************************************************************/
/*! no static exports found */function(module,exports){eval("module.exports = __WEBPACK_EXTERNAL_MODULE_phaser__;\n\n//# sourceURL=webpack://NineSlice/external_%7B%22umd%22:%22phaser%22,%22commonjs2%22:%22phaser%22,%22commonjs%22:%22phaser%22,%22amd%22:%22phaser%22,%22root%22:%22Phaser%22%7D?")}})},module.exports=factory(__webpack_require__(0))},function(e,t,n){var r;!function(){function i(e,t,n){return e.call.apply(e.bind,arguments)}function o(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function s(e,t,n){return(s=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?i:o).apply(null,arguments)}var a=Date.now||function(){return+new Date};function c(e,t){this.a=e,this.o=t||e,this.c=this.o.document}var u=!!window.FontFace;function f(e,t,n,r){if(t=e.c.createElement(t),n)for(var i in n)n.hasOwnProperty(i)&&("style"==i?t.style.cssText=n[i]:t.setAttribute(i,n[i]));return r&&t.appendChild(e.c.createTextNode(r)),t}function l(e,t,n){(e=e.c.getElementsByTagName(t)[0])||(e=document.documentElement),e.insertBefore(n,e.lastChild)}function h(e){e.parentNode&&e.parentNode.removeChild(e)}function p(e,t,n){t=t||[],n=n||[];for(var r=e.className.split(/\s+/),i=0;i<t.length;i+=1){for(var o=!1,s=0;s<r.length;s+=1)if(t[i]===r[s]){o=!0;break}o||r.push(t[i])}for(t=[],i=0;i<r.length;i+=1){for(o=!1,s=0;s<n.length;s+=1)if(r[i]===n[s]){o=!0;break}o||t.push(r[i])}e.className=t.join(" ").replace(/\s+/g," ").replace(/^\s+|\s+$/,"")}function d(e,t){for(var n=e.className.split(/\s+/),r=0,i=n.length;r<i;r++)if(n[r]==t)return!0;return!1}function y(e,t,n){function r(){a&&i&&o&&(a(s),a=null)}t=f(e,"link",{rel:"stylesheet",href:t,media:"all"});var i=!1,o=!0,s=null,a=n||null;u?(t.onload=function(){i=!0,r()},t.onerror=function(){i=!0,s=Error("Stylesheet failed to load"),r()}):setTimeout((function(){i=!0,r()}),0),l(e,"head",t)}function m(e,t,n,r){var i=e.c.getElementsByTagName("head")[0];if(i){var o=f(e,"script",{src:t}),s=!1;return o.onload=o.onreadystatechange=function(){s||this.readyState&&"loaded"!=this.readyState&&"complete"!=this.readyState||(s=!0,n&&n(null),o.onload=o.onreadystatechange=null,"HEAD"==o.parentNode.tagName&&i.removeChild(o))},i.appendChild(o),setTimeout((function(){s||(s=!0,n&&n(Error("Script load timeout")))}),r||5e3),o}return null}function g(){this.a=0,this.c=null}function _(e){return e.a++,function(){e.a--,v(e)}}function b(e,t){e.c=t,v(e)}function v(e){0==e.a&&e.c&&(e.c(),e.c=null)}function w(e){this.a=e||"-"}function x(e,t){this.c=e,this.f=4,this.a="n";var n=(t||"n4").match(/^([nio])([1-9])$/i);n&&(this.a=n[1],this.f=parseInt(n[2],10))}function O(e){var t=[];e=e.split(/,\s*/);for(var n=0;n<e.length;n++){var r=e[n].replace(/['"]/g,"");-1!=r.indexOf(" ")||/^\d/.test(r)?t.push("'"+r+"'"):t.push(r)}return t.join(",")}function S(e){return e.a+e.f}function k(e){var t="normal";return"o"===e.a?t="oblique":"i"===e.a&&(t="italic"),t}function C(e){var t=4,n="n",r=null;return e&&((r=e.match(/(normal|oblique|italic)/i))&&r[1]&&(n=r[1].substr(0,1).toLowerCase()),(r=e.match(/([1-9]00|normal|bold)/i))&&r[1]&&(/bold/i.test(r[1])?t=7:/[1-9]00/.test(r[1])&&(t=parseInt(r[1].substr(0,1),10)))),n+t}function E(e,t){this.c=e,this.f=e.o.document.documentElement,this.h=t,this.a=new w("-"),this.j=!1!==t.events,this.g=!1!==t.classes}function P(e){if(e.g){var t=d(e.f,e.a.c("wf","active")),n=[],r=[e.a.c("wf","loading")];t||n.push(e.a.c("wf","inactive")),p(e.f,n,r)}j(e,"inactive")}function j(e,t,n){e.j&&e.h[t]&&(n?e.h[t](n.c,S(n)):e.h[t]())}function A(){this.c={}}function N(e,t){this.c=e,this.f=t,this.a=f(this.c,"span",{"aria-hidden":"true"},this.f)}function R(e){l(e.c,"body",e.a)}function T(e){return"display:block;position:absolute;top:-9999px;left:-9999px;font-size:300px;width:auto;height:auto;line-height:normal;margin:0;padding:0;font-variant:normal;white-space:nowrap;font-family:"+O(e.c)+";font-style:"+k(e)+";font-weight:"+e.f+"00;"}function L(e,t,n,r,i,o){this.g=e,this.j=t,this.a=r,this.c=n,this.f=i||3e3,this.h=o||void 0}function B(e,t,n,r,i,o,s){this.v=e,this.B=t,this.c=n,this.a=r,this.s=s||"BESbswy",this.f={},this.w=i||3e3,this.u=o||null,this.m=this.j=this.h=this.g=null,this.g=new N(this.c,this.s),this.h=new N(this.c,this.s),this.j=new N(this.c,this.s),this.m=new N(this.c,this.s),e=T(e=new x(this.a.c+",serif",S(this.a))),this.g.a.style.cssText=e,e=T(e=new x(this.a.c+",sans-serif",S(this.a))),this.h.a.style.cssText=e,e=T(e=new x("serif",S(this.a))),this.j.a.style.cssText=e,e=T(e=new x("sans-serif",S(this.a))),this.m.a.style.cssText=e,R(this.g),R(this.h),R(this.j),R(this.m)}w.prototype.c=function(e){for(var t=[],n=0;n<arguments.length;n++)t.push(arguments[n].replace(/[\W_]+/g,"").toLowerCase());return t.join(this.a)},L.prototype.start=function(){var e=this.c.o.document,t=this,n=a(),r=new Promise((function(r,i){!function o(){a()-n>=t.f?i():e.fonts.load(function(e){return k(e)+" "+e.f+"00 300px "+O(e.c)}(t.a),t.h).then((function(e){1<=e.length?r():setTimeout(o,25)}),(function(){i()}))}()})),i=null,o=new Promise((function(e,n){i=setTimeout(n,t.f)}));Promise.race([o,r]).then((function(){i&&(clearTimeout(i),i=null),t.g(t.a)}),(function(){t.j(t.a)}))};var F={D:"serif",C:"sans-serif"},D=null;function M(){if(null===D){var e=/AppleWebKit\/([0-9]+)(?:\.([0-9]+))/.exec(window.navigator.userAgent);D=!!e&&(536>parseInt(e[1],10)||536===parseInt(e[1],10)&&11>=parseInt(e[2],10))}return D}function I(e,t,n){for(var r in F)if(F.hasOwnProperty(r)&&t===e.f[F[r]]&&n===e.f[F[r]])return!0;return!1}function G(e){var t,n=e.g.a.offsetWidth,r=e.h.a.offsetWidth;(t=n===e.f.serif&&r===e.f["sans-serif"])||(t=M()&&I(e,n,r)),t?a()-e.A>=e.w?M()&&I(e,n,r)&&(null===e.u||e.u.hasOwnProperty(e.a.c))?W(e,e.v):W(e,e.B):function(e){setTimeout(s((function(){G(this)}),e),50)}(e):W(e,e.v)}function W(e,t){setTimeout(s((function(){h(this.g.a),h(this.h.a),h(this.j.a),h(this.m.a),t(this.a)}),e),0)}function K(e,t,n){this.c=e,this.a=t,this.f=0,this.m=this.j=!1,this.s=n}B.prototype.start=function(){this.f.serif=this.j.a.offsetWidth,this.f["sans-serif"]=this.m.a.offsetWidth,this.A=a(),G(this)};var U=null;function H(e){0==--e.f&&e.j&&(e.m?((e=e.a).g&&p(e.f,[e.a.c("wf","active")],[e.a.c("wf","loading"),e.a.c("wf","inactive")]),j(e,"active")):P(e.a))}function X(e){this.j=e,this.a=new A,this.h=0,this.f=this.g=!0}function q(e,t,n,r,i){var o=0==--e.h;(e.f||e.g)&&setTimeout((function(){var e=i||null,a=r||{};if(0===n.length&&o)P(t.a);else{t.f+=n.length,o&&(t.j=o);var c,u=[];for(c=0;c<n.length;c++){var f=n[c],l=a[f.c],h=t.a,d=f;if(h.g&&p(h.f,[h.a.c("wf",d.c,S(d).toString(),"loading")]),j(h,"fontloading",d),h=null,null===U)if(window.FontFace){d=/Gecko.*Firefox\/(\d+)/.exec(window.navigator.userAgent);var y=/OS X.*Version\/10\..*Safari/.exec(window.navigator.userAgent)&&/Apple/.exec(window.navigator.vendor);U=d?42<parseInt(d[1],10):!y}else U=!1;h=U?new L(s(t.g,t),s(t.h,t),t.c,f,t.s,l):new B(s(t.g,t),s(t.h,t),t.c,f,t.s,e,l),u.push(h)}for(c=0;c<u.length;c++)u[c].start()}}),0)}function V(e,t){this.c=e,this.a=t}function z(e,t){this.c=e,this.a=t}function $(e,t){this.c=e||Y,this.a=[],this.f=[],this.g=t||""}K.prototype.g=function(e){var t=this.a;t.g&&p(t.f,[t.a.c("wf",e.c,S(e).toString(),"active")],[t.a.c("wf",e.c,S(e).toString(),"loading"),t.a.c("wf",e.c,S(e).toString(),"inactive")]),j(t,"fontactive",e),this.m=!0,H(this)},K.prototype.h=function(e){var t=this.a;if(t.g){var n=d(t.f,t.a.c("wf",e.c,S(e).toString(),"active")),r=[],i=[t.a.c("wf",e.c,S(e).toString(),"loading")];n||r.push(t.a.c("wf",e.c,S(e).toString(),"inactive")),p(t.f,r,i)}j(t,"fontinactive",e),H(this)},X.prototype.load=function(e){this.c=new c(this.j,e.context||this.j),this.g=!1!==e.events,this.f=!1!==e.classes,function(e,t,n){var r=[],i=n.timeout;!function(e){e.g&&p(e.f,[e.a.c("wf","loading")]),j(e,"loading")}(t);r=function(e,t,n){var r,i=[];for(r in t)if(t.hasOwnProperty(r)){var o=e.c[r];o&&i.push(o(t[r],n))}return i}(e.a,n,e.c);var o=new K(e.c,t,i);for(e.h=r.length,t=0,n=r.length;t<n;t++)r[t].load((function(t,n,r){q(e,o,t,n,r)}))}(this,new E(this.c,e),e)},V.prototype.load=function(e){var t=this,n=t.a.projectId,r=t.a.version;if(n){var i=t.c.o;m(this.c,(t.a.api||"https://fast.fonts.net/jsapi")+"/"+n+".js"+(r?"?v="+r:""),(function(r){r?e([]):(i["__MonotypeConfiguration__"+n]=function(){return t.a},function t(){if(i["__mti_fntLst"+n]){var r,o=i["__mti_fntLst"+n](),s=[];if(o)for(var a=0;a<o.length;a++){var c=o[a].fontfamily;null!=o[a].fontStyle&&null!=o[a].fontWeight?(r=o[a].fontStyle+o[a].fontWeight,s.push(new x(c,r))):s.push(new x(c))}e(s)}else setTimeout((function(){t()}),50)}())})).id="__MonotypeAPIScript__"+n}else e([])},z.prototype.load=function(e){var t,n,r=this.a.urls||[],i=this.a.families||[],o=this.a.testStrings||{},s=new g;for(t=0,n=r.length;t<n;t++)y(this.c,r[t],_(s));var a=[];for(t=0,n=i.length;t<n;t++)if((r=i[t].split(":"))[1])for(var c=r[1].split(","),u=0;u<c.length;u+=1)a.push(new x(r[0],c[u]));else a.push(new x(r[0]));b(s,(function(){e(a,o)}))};var Y="https://fonts.googleapis.com/css";function J(e){this.f=e,this.a=[],this.c={}}var Q={latin:"BESbswy","latin-ext":"çöüğş",cyrillic:"йяЖ",greek:"αβΣ",khmer:"កខគ",Hanuman:"កខគ"},Z={thin:"1",extralight:"2","extra-light":"2",ultralight:"2","ultra-light":"2",light:"3",regular:"4",book:"4",medium:"5","semi-bold":"6",semibold:"6","demi-bold":"6",demibold:"6",bold:"7","extra-bold":"8",extrabold:"8","ultra-bold":"8",ultrabold:"8",black:"9",heavy:"9",l:"3",r:"4",b:"7"},ee={i:"i",italic:"i",n:"n",normal:"n"},te=/^(thin|(?:(?:extra|ultra)-?)?light|regular|book|medium|(?:(?:semi|demi|extra|ultra)-?)?bold|black|heavy|l|r|b|[1-9]00)?(n|i|normal|italic)?$/;function ne(e,t){this.c=e,this.a=t}var re={Arimo:!0,Cousine:!0,Tinos:!0};function ie(e,t){this.c=e,this.a=t}function oe(e,t){this.c=e,this.f=t,this.a=[]}ne.prototype.load=function(e){var t=new g,n=this.c,r=new $(this.a.api,this.a.text),i=this.a.families;!function(e,t){for(var n=t.length,r=0;r<n;r++){var i=t[r].split(":");3==i.length&&e.f.push(i.pop());var o="";2==i.length&&""!=i[1]&&(o=":"),e.a.push(i.join(o))}}(r,i);var o=new J(i);!function(e){for(var t=e.f.length,n=0;n<t;n++){var r=e.f[n].split(":"),i=r[0].replace(/\+/g," "),o=["n4"];if(2<=r.length){var s;if(s=[],a=r[1])for(var a,c=(a=a.split(",")).length,u=0;u<c;u++){var f;if((f=a[u]).match(/^[\w-]+$/))if(null==(h=te.exec(f.toLowerCase())))f="";else{if(f=null==(f=h[2])||""==f?"n":ee[f],null==(h=h[1])||""==h)h="4";else var l=Z[h],h=l||(isNaN(h)?"4":h.substr(0,1));f=[f,h].join("")}else f="";f&&s.push(f)}0<s.length&&(o=s),3==r.length&&(s=[],0<(r=(r=r[2])?r.split(","):s).length&&(r=Q[r[0]])&&(e.c[i]=r))}for(e.c[i]||(r=Q[i])&&(e.c[i]=r),r=0;r<o.length;r+=1)e.a.push(new x(i,o[r]))}}(o),y(n,function(e){if(0==e.a.length)throw Error("No fonts to load!");if(-1!=e.c.indexOf("kit="))return e.c;for(var t=e.a.length,n=[],r=0;r<t;r++)n.push(e.a[r].replace(/ /g,"+"));return t=e.c+"?family="+n.join("%7C"),0<e.f.length&&(t+="&subset="+e.f.join(",")),0<e.g.length&&(t+="&text="+encodeURIComponent(e.g)),t}(r),_(t)),b(t,(function(){e(o.a,o.c,re)}))},ie.prototype.load=function(e){var t=this.a.id,n=this.c.o;t?m(this.c,(this.a.api||"https://use.typekit.net")+"/"+t+".js",(function(t){if(t)e([]);else if(n.Typekit&&n.Typekit.config&&n.Typekit.config.fn){t=n.Typekit.config.fn;for(var r=[],i=0;i<t.length;i+=2)for(var o=t[i],s=t[i+1],a=0;a<s.length;a++)r.push(new x(o,s[a]));try{n.Typekit.load({events:!1,classes:!1,async:!0})}catch(e){}e(r)}}),2e3):e([])},oe.prototype.load=function(e){var t=this.f.id,n=this.c.o,r=this;t?(n.__webfontfontdeckmodule__||(n.__webfontfontdeckmodule__={}),n.__webfontfontdeckmodule__[t]=function(t,n){for(var i=0,o=n.fonts.length;i<o;++i){var s=n.fonts[i];r.a.push(new x(s.name,C("font-weight:"+s.weight+";font-style:"+s.style)))}e(r.a)},m(this.c,(this.f.api||"https://f.fontdeck.com/s/css/js/")+function(e){return e.o.location.hostname||e.a.location.hostname}(this.c)+"/"+t+".js",(function(t){t&&e([])}))):e([])};var se=new X(window);se.a.c.custom=function(e,t){return new z(t,e)},se.a.c.fontdeck=function(e,t){return new oe(t,e)},se.a.c.monotype=function(e,t){return new V(t,e)},se.a.c.typekit=function(e,t){return new ie(t,e)},se.a.c.google=function(e,t){return new ne(t,e)};var ae={load:s(se.load,se)};void 0===(r=function(){return ae}.call(t,n,t,e))||(e.exports=r)}()},function(e,t,n){"use strict";n.r(t);var r={};n.r(r),n.d(r,"PRELOADER",(function(){return c})),n.d(r,"GAME",(function(){return u})),n.d(r,"GAME_OVER",(function(){return f})),n.d(r,"LOADING",(function(){return l})),n.d(r,"BOOT",(function(){return h}));var i={};n.r(i),n.d(i,"BEAR",(function(){return p})),n.d(i,"CHICKEN",(function(){return d})),n.d(i,"PARROT",(function(){return y})),n.d(i,"DUCK",(function(){return m})),n.d(i,"PENGUIN",(function(){return g})),n.d(i,"SOKOBAN",(function(){return _})),n.d(i,"UI_PANEL",(function(){return b})),n.d(i,"FONT_NUMBERS",(function(){return v}));var o={};n.r(o),n.d(o,"MUSIC",(function(){return w})),n.d(o,"SFX_GAMEOVER",(function(){return x})),n.d(o,"SFX_BOX_SELECT",(function(){return O})),n.d(o,"SFX_MATCH",(function(){return S})),n.d(o,"SFX_VICTORY",(function(){return k}));var s={};n.r(s),n.d(s,"IDLE_DOWN",(function(){return C})),n.d(s,"IDLE_UP",(function(){return E})),n.d(s,"IDLE_LEFT",(function(){return P})),n.d(s,"IDLE_RIGHT",(function(){return j})),n.d(s,"WALK_DOWN",(function(){return A})),n.d(s,"WALK_UP",(function(){return N})),n.d(s,"WALK_LEFT",(function(){return R})),n.d(s,"WALK_RIGHT",(function(){return T}));n(0);var a=n(1),c="preloader",u="game",f="gameover",l="loading",h="boot",p="bear",d="chicken",y="parrot",m="duck",g="penguin",_="sokoban",b="ui-panel",v="font-numbers",w="music",x="sfx-gameover",O="sfx-box-select",S="sfx-match",k="sfx-victory",C="idle-down",E="idle-up",P="idle-left",j="idle-right",A="walk-down",N="walk-up",R="walk-left",T="walk-right",L=n(2);function B(e){return(B="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function F(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function D(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function M(e,t){return(M=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function I(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=K(e);if(t){var i=K(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return G(this,n)}}function G(e,t){return!t||"object"!==B(t)&&"function"!=typeof t?W(e):t}function W(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function K(e){return(K=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function U(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var H=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&M(e,t)}(o,Phaser.Loader.File);var t,n,r,i=I(o);function o(e,t){var n,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"google";return F(this,o),U(W(n=i.call(this,e,{type:"webfont",key:t.toString()})),"fontNames",[]),U(W(n),"service","google"),U(W(n),"fontsLoadedCount",0),n.fontNames=Array.isArray(t)?t:[t],n.service=r,n}return t=o,(n=[{key:"load",value:function(){var e=this,t={fontactive:function(t){e.checkLoadedFonts(t)},fontinactive:function(t){e.checkLoadedFonts(t)}};switch(this.service){case"google":t.google=this.getGoogleConfig();break;case"adobe-edge":t.typekit=this.getAdobeEdgeConfig();break;default:throw new Error("Unsupported font service")}L.load(t)}},{key:"getGoogleConfig",value:function(){return{families:this.fontNames}}},{key:"getAdobeEdgeConfig",value:function(){return{id:this.fontNames.join(";"),api:"//use.edgefonts.net"}}},{key:"checkLoadedFonts",value:function(e){this.fontNames.indexOf(e)<0||(++this.fontsLoadedCount,this.fontsLoadedCount>=this.fontNames.length&&this.loader.nextFile(this,!0))}}])&&D(t.prototype,n),r&&D(t,r),o}();function X(e){return(X="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function q(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function V(e,t){return(V=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function z(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Y(e);if(t){var i=Y(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return $(this,n)}}function $(e,t){return!t||"object"!==X(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Y(e){return(Y=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var J=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&V(e,t)}(s,Phaser.Scene);var t,n,i,o=z(s);function s(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s),o.call(this,r.BOOT)}return t=s,(n=[{key:"preload",value:function(){var e=new H(this.load,["Rowdies","PT Sans"]);this.load.addFile(e)}},{key:"create",value:function(){this.scene.start(r.PRELOADER)}}])&&q(t.prototype,n),i&&q(t,i),s}();function Q(e){return(Q="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Z(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ee(e,t){return(ee=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function te(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=re(e);if(t){var i=re(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return ne(this,n)}}function ne(e,t){return!t||"object"!==Q(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function re(e){return(re=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var ie=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ee(e,t)}(u,Phaser.Scene);var t,n,a,c=te(u);function u(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,u),c.call(this,r.PRELOADER)}return t=u,(n=[{key:"init",value:function(){this.scene.run(r.LOADING)}},{key:"preload",value:function(){this.load.spritesheet(i.SOKOBAN,"assets/textures/sokoban_tilesheet.png",{frameWidth:64}),this.load.image(i.BEAR,"assets/textures/bear.png"),this.load.image(i.CHICKEN,"assets/textures/chicken.png"),this.load.image(i.DUCK,"assets/textures/duck.png"),this.load.image(i.PARROT,"assets/textures/parrot.png"),this.load.image(i.PENGUIN,"assets/textures/penguin.png"),this.load.image(i.UI_PANEL,"assets/textures/grey_panel.png"),this.load.bitmapFont(i.FONT_NUMBERS,"assets/textures/mario-numbers.png","assets/textures/mario-numbers.fnt"),this.load.audio(o.MUSIC,"assets/music/8Bit-Mini-Gamer-Loop.wav"),this.load.audio(o.SFX_BOX_SELECT,"assets/sfx/Pickup-Soft.wav"),this.load.audio(o.SFX_GAMEOVER,"assets/sfx/GameOver.wav"),this.load.audio(o.SFX_MATCH,"assets/sfx/Ice-Reflect.wav"),this.load.audio(o.SFX_VICTORY,"assets/sfx/Victory-SoundFX1.wav")}},{key:"create",value:function(){this.anims.create({key:s.IDLE_DOWN,frames:[{key:i.SOKOBAN,frame:52}]}),this.anims.create({key:s.IDLE_UP,frames:[{key:i.SOKOBAN,frame:55}]}),this.anims.create({key:s.IDLE_LEFT,frames:[{key:i.SOKOBAN,frame:81}]}),this.anims.create({key:s.IDLE_RIGHT,frames:[{key:i.SOKOBAN,frame:78}]}),this.anims.create({key:s.WALK_DOWN,frames:this.anims.generateFrameNumbers(i.SOKOBAN,{start:52,end:54}),frameRate:10,repeat:-1}),this.anims.create({key:s.WALK_UP,frames:this.anims.generateFrameNumbers(i.SOKOBAN,{start:55,end:57}),frameRate:10,repeat:-1}),this.anims.create({key:s.WALK_LEFT,frames:this.anims.generateFrameNumbers(i.SOKOBAN,{start:81,end:83}),frameRate:10,repeat:-1}),this.anims.create({key:s.WALK_RIGHT,frames:this.anims.generateFrameNumbers(i.SOKOBAN,{start:78,end:80}),frameRate:10,repeat:-1}),this.scene.stop(r.LOADING),this.scene.start(r.GAME)}}])&&Z(t.prototype,n),a&&Z(t,a),u}();function oe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function se(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var ae=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),se(this,"scene",void 0),se(this,"label",void 0),se(this,"timerEvent",void 0),se(this,"duration",0),this.scene=t,this.label=n}var t,n,r;return t=e,(n=[{key:"start",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:5e4;this.stop(),this.duration=n,this.timerEvent=this.scene.time.addEvent({delay:n,callback:function(){t.label.text="0",t.stop(),null==e||e()}})}},{key:"stop",value:function(){this.timerEvent&&(this.timerEvent.destroy(),this.timerEvent=void 0)}},{key:"update",value:function(){if(this.timerEvent&&!(this.duration<=0)){var e=this.timerEvent.getElapsed(),t=(this.duration-e)/1e3;this.label.text=t.toFixed(2)}}}])&&oe(t.prototype,n),r&&oe(t,r),e}();function ce(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ue(e,t,n){return t&&ce(e.prototype,t),n&&ce(e,n),e}function fe(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var le,he=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),fe(this,"cursors",void 0),fe(this,"actionCallback",void 0),fe(this,"_shouldSortChildren",!0),this.cursors=t.input.keyboard.createCursorKeys(),this.actionCallback=n}return ue(e,[{key:"shouldSortChildren",get:function(){return this._shouldSortChildren}}]),ue(e,[{key:"update",value:function(e){if(Phaser.Input.Keyboard.JustUp(this.cursors.space)&&this.actionCallback&&this.actionCallback(),e.active){if(this.cursors.left.isDown)e.setVelocity(-200,0),e.play(s.WALK_LEFT,!0),this._shouldSortChildren=!0;else if(this.cursors.right.isDown)e.setVelocity(200,0),e.play(s.WALK_RIGHT,!0),this._shouldSortChildren=!0;else if(this.cursors.up.isDown)e.setVelocity(0,-200),e.play(s.WALK_UP,!0),this._shouldSortChildren=!0;else if(this.cursors.down.isDown)e.setVelocity(0,200),e.play(s.WALK_DOWN,!0),this._shouldSortChildren=!0;else{var t;e.setVelocity(0,0);var n=(null===(t=e.anims.currentAnim)||void 0===t?void 0:t.key).split("-")[1];e.play("idle-".concat(n),!0)}}}},{key:"setChildrenSorted",value:function(){this._shouldSortChildren=!1}}]),e}(),pe=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:3e3;e.add.tween({targets:t,volume:0,duration:n,ease:Phaser.Math.Easing.Sine.InOut})};function de(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ye(e,t,n){return t&&de(e.prototype,t),n&&de(e,n),e}function me(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}!function(e){e[e.IDLE=0]="IDLE",e[e.ENTERING=1]="ENTERING",e[e.EXITING=2]="EXITING"}(le||(le={}));var ge=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),me(this,"scene",void 0),me(this,"panel",void 0),me(this,"startText",void 0),me(this,"state",le.IDLE),this.scene=t;var n=t.scale,r=n.width,o=n.height;this.panel=t.add.nineslice(.5*r,1.5*o,500,200,i.UI_PANEL,24).setOrigin(.5).setData("sorted",!0).setDepth(1e4),this.startText=t.add.text(.5*r,1.5*o,"Press A to Start",{fontSize:32,fontFamily:"Rowdies"}).setColor("#000000").setData("sorted",!0).setOrigin(.5).setDepth(10001)}return ye(e,[{key:"isExiting",get:function(){return this.state===le.EXITING}}]),ye(e,[{key:"enter",value:function(){var e=this;this.state=le.ENTERING,this.scene.tweens.add({targets:[this.panel,this.startText],y:.5*this.scene.scale.height,duration:500,ease:Phaser.Math.Easing.Bounce.InOut,onComplete:function(){e.state=le.IDLE}})}},{key:"exit",value:function(e){var t=this;this.state=le.EXITING,this.scene.tweens.add({targets:[this.panel,this.startText],y:1.5*this.scene.scale.height,duration:300,ease:Phaser.Math.Easing.Bounce.InOut,onComplete:function(){t.state=le.IDLE,null==e||e()}})}},{key:"destroy",value:function(){this.panel.destroy(),this.startText.destroy()}}]),e}();function _e(e){return(_e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function be(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ve(e,t){return(ve=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function we(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Se(e);if(t){var i=Se(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return xe(this,n)}}function xe(e,t){return!t||"object"!==_e(t)&&"function"!=typeof t?Oe(e):t}function Oe(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Se(e){return(Se=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ke(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Ce=[[1,0,3],[2,4,1],[3,4,2]];function Ee(e){return(Ee="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Pe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function je(e,t){return(je=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Ae(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Te(e);if(t){var i=Te(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Ne(this,n)}}function Ne(e,t){return!t||"object"!==Ee(t)&&"function"!=typeof t?Re(e):t}function Re(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Te(e){return(Te=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Le(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Be(e){return(Be="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Fe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function De(e,t){return(De=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Me(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Ge(e);if(t){var i=Ge(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return Ie(this,n)}}function Ie(e,t){return!t||"object"!==Be(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Ge(e){return(Ge=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var We=[J,ie,function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ve(e,t)}(u,Phaser.Scene);var t,n,a,c=we(u);function u(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,u),ke(Oe(e=c.call(this,r.GAME)),"player",void 0),ke(Oe(e),"boxGroup",void 0),ke(Oe(e),"itemsGroup",void 0),ke(Oe(e),"activeBox",void 0),ke(Oe(e),"selectedBoxes",[]),ke(Oe(e),"countdown",void 0),ke(Oe(e),"control",void 0),ke(Oe(e),"music",void 0),ke(Oe(e),"startModal",void 0),ke(Oe(e),"matchesCount",0),e}return t=u,(n=[{key:"init",value:function(){this.matchesCount=0,this.music=this.sound.add(o.MUSIC,{loop:!0,volume:.1})}},{key:"create",value:function(){var e=this.scale,t=e.width,n=e.height;this.player=this.physics.add.sprite(.5*t,.63*n,i.SOKOBAN).setSize(40,16).setOffset(12,38).play(s.IDLE_DOWN),this.player.setCollideWorldBounds(!0),this.control=new he(this,this.handlePlayerOpenActiveBox.bind(this)),this.boxGroup=this.physics.add.staticGroup(),this.createdBoxes(),this.itemsGroup=this.add.group();var r=this.add.bitmapText(.5*t,50,i.FONT_NUMBERS,"50",50).setOrigin(.5);this.countdown=new ae(this,r),this.physics.add.collider(this.boxGroup,this.player,this.handlePlayerBoxCollide,void 0,this),this.startModal=new ge(this),this.startModal.enter()}},{key:"update",value:function(){var e,t;null===(e=this.control)||void 0===e||e.update(this.player),this.updateActiveBox(),(null===(t=this.control)||void 0===t?void 0:t.shouldSortChildren)&&(this.children.each((function(e){var t=e;t.getData("sorted")||t.setDepth(t.y)})),this.control.setChildrenSorted()),this.countdown.update()}},{key:"createdBoxes",value:function(){for(var e=this.scale.width,t=.25,n=150,r=0;r<Ce.length;++r){for(var o=0;o<Ce[r].length;++o)this.boxGroup.get(e*t,n,i.SOKOBAN,10).setSize(64,32).setOffset(0,32).setData("itemType",Ce[r][o]),t+=.25;t=.25,n+=150}}},{key:"handlePlayerBoxCollide",value:function(e,t){t.getData("opened")||this.activeBox||(this.activeBox=t,this.activeBox.setFrame(9))}},{key:"handlePlayerOpenActiveBox",value:function(){var e=this;this.activeBox?this.openBox(this.activeBox):this.startModal&&!this.startModal.isExiting?this.startModal.exit((function(){var t;e.countdown.start(e.handleCountdownFinished.bind(e)),e.music.play(),function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:500;t.setVolume(0),e.add.tween({targets:t,volume:n,duration:r,ease:Phaser.Math.Easing.Sine.InOut})}(e,e.music,.05,2e3),null===(t=e.startModal)||void 0===t||t.destroy(),e.startModal=void 0})):this.scene.isActive(r.GAME_OVER)&&(this.scene.stop(r.GAME_OVER),this.scene.restart())}},{key:"updateActiveBox",value:function(){this.activeBox&&(Phaser.Math.Distance.Between(this.player.x,this.player.y,this.activeBox.x,this.activeBox.y)<64||(this.activeBox.setFrame(10),this.activeBox=void 0))}},{key:"openBox",value:function(e){var t=this;if(e){var n,r=e.getData("itemType");switch(r){case 0:(n=this.itemsGroup.get(e.x,e.y)).setTexture(i.BEAR);break;case 1:(n=this.itemsGroup.get(e.x,e.y)).setTexture(i.CHICKEN);break;case 2:(n=this.itemsGroup.get(e.x,e.y)).setTexture(i.DUCK);break;case 3:(n=this.itemsGroup.get(e.x,e.y)).setTexture(i.PARROT);break;case 4:(n=this.itemsGroup.get(e.x,e.y)).setTexture(i.PENGUIN)}n&&(e.setData("opened",!0),n.setData("sorted",!0),n.setDepth(2e3),n.setActive(!0),n.setVisible(!0),n.setScale(0),n.setAlpha(0),this.selectedBoxes.push({box:e,item:n}),this.sound.play(o.SFX_BOX_SELECT,{volume:.8}),this.tweens.add({targets:n,y:"-=50",alpha:1,scale:1,duration:500,onComplete:function(){0!==r?t.selectedBoxes.length<2||t.checkForMatch():t.handleBearSelected()}}),this.activeBox&&(this.activeBox.setFrame(10),this.activeBox=void 0))}}},{key:"checkForMatch",value:function(){var e=this;if(!(this.selectedBoxes.length<=0)){var t=this.selectedBoxes.pop(),n=this.selectedBoxes.pop();if(n.item.texture===t.item.texture){++this.matchesCount;var i=function(){e.matchesCount>=4&&(pe(e,e.music),e.sound.play(o.SFX_VICTORY,{volume:.8}),e.countdown.stop(),e.player.active=!1,e.player.setVelocity(0,0),e.scene.run(r.GAME_OVER,{message:"You Win!"}))};this.time.delayedCall(1e3,(function(){n.box.setFrame(8),t.box.setFrame(8),e.sound.play(o.SFX_MATCH,{volume:.8}),e.time.delayedCall(1e3,i)}))}else this.tweens.add({targets:[n.item,t.item],y:"+=50",alpha:0,scale:0,duration:300,delay:1e3,onComplete:function(){e.itemsGroup.killAndHide(n.item),e.itemsGroup.killAndHide(t.item),n.box.setData("opened",!1),t.box.setData("opened",!1)}})}}},{key:"handleBearSelected",value:function(){var e=this;if(!(this.selectedBoxes.length<=0)){var t=this.selectedBoxes.pop(),n=t.box,r=t.item;r.setTint(16711680),n.setFrame(7),this.player.active=!1,this.player.setVelocity(0,0),this.time.delayedCall(1e3,(function(){r.setTint(16777215),n.setFrame(10),n.setData("opened",!1),e.tweens.add({targets:r,y:"+=50",alpha:0,scale:0,duration:300,onComplete:function(){e.player.active=!0}})}))}}},{key:"handleCountdownFinished",value:function(){pe(this,this.music,2e3),this.sound.play(o.SFX_GAMEOVER,{volume:.8}),this.player.active=!1,this.player.setVelocity(0,0),this.scene.run(r.GAME_OVER,{message:"You lose!"})}}])&&be(t.prototype,n),a&&be(t,a),u}(),function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&je(e,t)}(a,Phaser.Scene);var t,n,o,s=Ae(a);function a(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),Le(Re(e=s.call(this,r.GAME_OVER)),"panel",void 0),Le(Re(e),"title",void 0),Le(Re(e),"caption",void 0),e}return t=a,(n=[{key:"create",value:function(e){var t=e.message||"You lose",n=this.scale,r=n.width,o=n.height;this.panel=this.add.nineslice(.5*r,1.5*o,500,200,i.UI_PANEL,24).setOrigin(.5),this.title=this.add.text(.5*r,1.5*o,t,{fontSize:48,color:"#000000"}).setOrigin(.5),this.caption=this.add.text(.5*r,.5*o,"Press a to Play",{fontSize:24,color:"#000000"}).setOrigin(.5),this.tweens.add({targets:[this.panel,this.title],y:.5*o,duration:500,ease:Phaser.Math.Easing.Bounce.InOut}),this.tweens.add({targets:this.caption,y:.55*o,duration:500,ease:Phaser.Math.Easing.Bounce.InOut})}}])&&Pe(t.prototype,n),o&&Pe(t,o),a}(),function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&De(e,t)}(s,Phaser.Scene);var t,n,i,o=Me(s);function s(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s),o.call(this,r.LOADING)}return t=s,(n=[{key:"create",value:function(){var e=this.scale,t=e.width,n=e.height,r=this.add.circle(.45*t,.5*n,8,16777215,1),i=this.add.circle(.5*t,.5*n,8,16777215,1),o=this.add.circle(.55*t,.5*n,8,16777215,1),s=this.add.text(.5*t,.55*n,"Loading",{fontSize:32,fontFamily:"Rowdies"}).setOrigin(.5);this.tweens.add({targets:[r,i,o],y:"-=20",duration:300,repeat:-1,yoyo:!0,ease:Phaser.Math.Easing.Bounce.InOut,repeatDelay:500,delay:this.tweens.stagger(150,{})}),this.tweens.add({targets:s,alpha:.3,repeat:-1,yoyo:!0,duration:3e3,ease:Phaser.Math.Easing.Circular.InOut})}}])&&Fe(t.prototype,n),i&&Fe(t,i),s}()],Ke={type:Phaser.AUTO,scale:{parent:"root",width:700,height:600,autoCenter:Phaser.Scale.CENTER_BOTH},physics:{default:"arcade",arcade:{debug:!0,gravity:{y:0}}},plugins:{global:[a.Plugin.DefaultCfg]},scene:We,input:{gamepad:!0}};t.default=new Phaser.Game(Ke)}]]);